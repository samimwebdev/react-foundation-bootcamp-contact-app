(this["webpackJsonpreact-bootcamp"]=this["webpackJsonpreact-bootcamp"]||[]).push([[0],{143:function(e,t,a){"use strict";a.r(t);var c=a(30),n=a.n(c),s=a(3),r=a.n(s),l=a(8),o=a(5),i=a(13),m=a(19),d=a(20),b=a(22),j=a(21),u=a(35),h=a.n(u),p=a(1),O=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.contact;return Object(p.jsx)("div",{className:"card contact my-2",children:Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsxs)("h5",{className:"card-title",children:[e.firstName," ",e.lastName]}),Object(p.jsx)("p",{className:"card-text",children:e.email}),Object(p.jsx)("p",{className:"card-text",children:e.gender}),Object(p.jsxs)("p",{className:"card-text",children:["Date of Birth: ",h()(e.dob).format("DD/MM/YYYY")]}),Object(p.jsx)(l.b,{className:"btn btn-primary",to:"/contacts/".concat(e.id),children:"show contact"})]})})}}]),a}(s.Component),x=a(6),N=a(68),v=a(15),f=a.n(v),g={contacts:[]},y=function(e,t){switch(t.type){case"GET_CONTACTS":return{contacts:t.payload};case"ADD_CONTACT":return{contacts:[].concat(Object(N.a)(e.contacts),[t.payload])};case"UPDATE_CONTACT":return{contacts:e.contacts.map((function(e){return e.id===+t.payload.id?Object(x.a)(Object(x.a)({},e),t.payload):e}))};case"DELETE_CONTACT":return{contacts:e.contacts.filter((function(e){return e.id!==+t.payload}))};default:return e}},C=r.a.createContext(),D=function(e){var t=r.a.useReducer(y,g),a=Object(i.a)(t,2),c=a[0],n=a[1];return r.a.useEffect((function(){f.a.get("".concat("https://react-bootcamp-api-contact-app.herokuapp.com","/contacts")).then((function(e){var t=e.data;n({type:"GET_CONTACTS",payload:t})})).catch((function(e){return console.log(e)}))}),[]),Object(p.jsx)(C.Provider,{value:{state:c,dispatch:n},children:e.children})},T={maxWidth:"18rem",margin:"0 auto"},w=function(e){var t=r.a.useContext(C),a=r.a.useState(""),c=Object(i.a)(a,2),n=c[0],s=c[1],l=t.state.contacts;console.log(t.dispatch({type:"RANDOM_ACTION",payload:"1"}));var o=l.length>0&&l.filter((function(e){return e.firstName.includes(n)||e.lastName.includes(n)}));return console.log(o),Object(p.jsxs)("div",{style:T,children:[Object(p.jsx)("h2",{className:"text-center mb-3 mt-3",children:"All Contacts"}),Object(p.jsx)("input",{type:"search",name:"search",className:"form-control",value:n,onChange:function(e){return s(e.target.value)},placeholder:"search contact"}),o.length>0?o.map((function(e){return Object(p.jsx)(O,{contact:e},e.id)})):Object(p.jsx)("p",{children:"Loading..."})]})},k=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(p.jsx)("nav",{className:"navbar navbar-expand-sm navbar-light bg-light",children:Object(p.jsxs)("div",{className:"container-fluid",children:[Object(p.jsx)(l.b,{className:"navbar-brand",to:"/",children:"ContactManager"}),Object(p.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(p.jsx)("span",{className:"navbar-toggler-icon"})}),Object(p.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(p.jsxs)("ul",{className:"navbar-nav ms-auto",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(l.c,{activeClassName:"active",className:"nav-link","aria-current":"page",exact:!0,to:"/",children:"Home"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(l.c,{activeClassName:"active",className:"nav-link",to:"/contacts",children:"Contacts"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(l.c,{activeClassName:"active",className:"nav-link",to:"/add-contact",children:"Add Contact"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(l.c,{activeClassName:"active",className:"nav-link",to:"/about",children:"About"})})]})})]})})}}]),a}(s.Component),A={maxWidth:"18rem",margin:"0 auto"},E=function(e){var t=r.a.useState(null),a=Object(i.a)(t,2),c=a[0],n=a[1],s=r.a.useState(!0),o=Object(i.a)(s,2),m=o[0],d=o[1],b=r.a.useContext(C).dispatch,j=e.match.params.id;r.a.useEffect((function(){f.a.get("".concat("https://react-bootcamp-api-contact-app.herokuapp.com","/contacts/").concat(j)).then((function(e){var t=e.data;n(t),d(!1)})).catch((function(e){return console.log(e)}))}),[j]);return Object(p.jsx)(p.Fragment,{children:m?Object(p.jsx)("p",{className:"text-center",children:"loading...."}):Object(p.jsxs)("div",{className:"card contact my-2",style:A,children:[Object(p.jsx)("img",{src:null===c||void 0===c?void 0:c.picture,className:"card-img-top",alt:null===c||void 0===c?void 0:c.firstName}),Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsxs)("h5",{className:"card-title",children:[null===c||void 0===c?void 0:c.firstName," ",null===c||void 0===c?void 0:c.lastName]}),Object(p.jsx)("p",{className:"card-text",children:null===c||void 0===c?void 0:c.email}),Object(p.jsx)("p",{className:"card-text",children:null===c||void 0===c?void 0:c.gender}),Object(p.jsxs)("p",{className:"card-text",children:["Date of Birth:",h()(null===c||void 0===c?void 0:c.dob).format("DD/MM/YYYY")]})]}),Object(p.jsx)("button",{className:"btn btn-danger mb-2",onClick:function(){return function(t){f.a.delete("".concat("https://react-bootcamp-api-contact-app.herokuapp.com","/contacts/").concat(t)).then((function(a){b({type:"DELETE_CONTACT",payload:t}),e.history.push("/contacts")})).catch((function(e){return console.log(e)}))}(c.id)},children:"Delete Contact"}),Object(p.jsx)(l.b,{className:"btn btn-info mb-2",to:"/edit/".concat(c.id),children:"Edit Contact"}),Object(p.jsx)("button",{className:"btn btn-secondary",onClick:function(){return e.history.goBack()},children:"Go Back"})]})})},F=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"bg-light text-center p-5",children:[Object(p.jsx)("h1",{className:"display-5",children:"Contacts Manager"}),Object(p.jsx)("p",{className:"lead",children:"Let's share our contact info"}),Object(p.jsx)(l.b,{to:"/contacts",className:"btn btn-primary",children:"Browse Contacts"})]})}}]),a}(s.Component),M=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"mt-5 text-center",children:Object(p.jsx)("p",{className:"display-5",children:"About Contact v-1.0.0"})})}}]),a}(s.Component),S=a(26),Y=a(36),_=a.n(Y),B=(a(98),Object(o.f)((function(e){var t=r.a.useContext(C).dispatch,a=r.a.useState({firstName:"",lastName:"",email:"",dob:new Date,picture:"",gender:"male",error:""}),c=Object(i.a)(a,2),n=c[0],s=c[1],l=function(e){s(Object(x.a)(Object(x.a)({},n),{},Object(S.a)({},e.target.name,e.target.value)))},o=n.firstName,m=n.lastName,d=n.email,b=n.dob,j=n.picture,u=n.error,h=n.gender;return Object(p.jsxs)("div",{style:{width:"25rem",margin:"0 auto"},children:[Object(p.jsx)("h2",{className:"text-center mt-3",children:"Add Contact"}),u&&Object(p.jsx)("div",{className:"alert alert-danger",children:u}),Object(p.jsxs)("form",{onSubmit:function(a){var c=n.firstName,r=n.lastName,l=n.email,o=n.dob,i=n.picture,m=n.gender;a.preventDefault(),""===c||""===r||""===l||""===o||""===i||""===m?s(Object(x.a)(Object(x.a)({},n),{},{error:"Please fill all the input with valid info"})):f.a.post("".concat("https://react-bootcamp-api-contact-app.herokuapp.com","/contacts"),n).then((function(a){a.data;t({type:"ADD_CONTACT",payload:n}),e.history.push("/contacts")})).catch((function(e){return console.log(e)}))},children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),Object(p.jsx)("input",{type:"text",value:o,name:"firstName",onChange:l,className:"form-control"})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),Object(p.jsx)("input",{type:"text",value:m,name:"lastName",onChange:l,className:"form-control"})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(p.jsx)("input",{type:"email",value:d,name:"email",onChange:l,className:"form-control"})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"dob",className:"form-label",children:"Date of Birth"}),Object(p.jsx)(_.a,{selected:b,showMonthDropdown:!0,showYearDropdown:!0,dateFormat:"dd/MM/yyyy",dropdownMode:"select",maxDate:new Date,onChange:function(e){s(Object(x.a)(Object(x.a)({},n),{},{dob:e}))}})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"picture",className:"form-label",children:"picture"}),Object(p.jsx)("input",{type:"url",value:j,name:"picture",onChange:l,className:"form-control"})]}),Object(p.jsx)("div",{className:"mb-3",children:Object(p.jsxs)("label",{children:["Gender:",Object(p.jsxs)("select",{name:"gender",value:h,onChange:l,className:"form-select",children:[Object(p.jsx)("option",{value:"male",children:"Male"}),Object(p.jsx)("option",{value:"female",children:"Female"})]})]})}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})}))),L=function(e){var t=r.a.useContext(C).dispatch,a=r.a.useState({firstName:"",lastName:"",email:"",dob:"",picture:"",gender:"",error:""}),c=Object(i.a)(a,2),n=c[0],s=c[1],l=e.match.params.id;r.a.useEffect((function(){f.a.get("".concat("https://react-bootcamp-api-contact-app.herokuapp.com","/contacts/").concat(l)).then((function(e){var t=e.data;s(Object(x.a)(Object(x.a)({},t),{},{dob:t.dob&&new Date(t.dob)}))})).catch((function(e){return s((function(t){return Object(x.a)(Object(x.a)({},t),{},{error:e.message})}))}))}),[l]);var o=function(e){s(Object(x.a)(Object(x.a)({},n),{},Object(S.a)({},e.target.name,e.target.value)))},m=n.firstName,d=n.lastName,b=n.email,j=n.dob,u=n.picture,h=n.gender,O=n.error;return Object(p.jsxs)("div",{style:{width:"25rem",margin:"0 auto"},children:[Object(p.jsx)("h2",{className:"text-center mt-3",children:"Edit Contact"}),O&&Object(p.jsx)("div",{className:"alert alert-danger",children:O}),Object(p.jsxs)("form",{onSubmit:function(a){var c=n.firstName,r=n.lastName,l=n.email,o=n.dob,i=n.picture,m=n.gender,d=e.match.params.id;a.preventDefault(),""===c||""===r||""===l||""===o||""===i||""===m?s({error:"Please fill all the input with valid info"}):f.a.put("".concat("https://react-bootcamp-api-contact-app.herokuapp.com","/contacts/").concat(d),n).then((function(a){var c=a.data;console.log("...."),t({type:"UPDATE_CONTACT",payload:c}),e.history.push("/contacts/".concat(d))})).catch((function(e){return s(Object(x.a)(Object(x.a)({},n),{},{error:e.message}))}))},children:[Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),Object(p.jsx)("input",{type:"text",value:m,name:"firstName",onChange:o,className:"form-control"})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),Object(p.jsx)("input",{type:"text",value:d,name:"lastName",onChange:o,className:"form-control"})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(p.jsx)("input",{type:"email",value:b,name:"email",onChange:o,className:"form-control"})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"dob",className:"form-label",children:"Date of Birth"}),Object(p.jsx)(_.a,{selected:j,showMonthDropdown:!0,showYearDropdown:!0,dateFormat:"dd/MM/yyyy",dropdownMode:"select",maxDate:new Date,onChange:function(e){s(Object(x.a)(Object(x.a)({},n),{},{dob:e}))}})]}),Object(p.jsxs)("div",{className:"mb-3",children:[Object(p.jsx)("label",{htmlFor:"picture",className:"form-label",children:"picture"}),Object(p.jsx)("input",{type:"url",value:u,name:"picture",onChange:o,className:"form-control"})]}),Object(p.jsx)("div",{className:"mb-3",children:Object(p.jsxs)("label",{children:["Gender:",Object(p.jsxs)("select",{name:"gender",value:h,onChange:o,className:"form-select",children:[Object(p.jsx)("option",{value:"male",children:"Male"}),Object(p.jsx)("option",{value:"female",children:"Female"})]})]})}),Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})};function G(){return Object(p.jsx)("h1",{className:"display-1 text-center",children:"404 Not Found"})}a(64);var P=function(){return Object(p.jsxs)(l.a,{children:[Object(p.jsx)(k,{}),Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{exact:!0,path:"/",component:F}),Object(p.jsx)(o.a,{path:"/about",component:M}),Object(p.jsx)(o.a,{path:"/add-contact",component:B}),Object(p.jsx)(o.a,{path:"/contacts/:id",component:E}),"/>",Object(p.jsx)(o.a,{path:"/edit/:id",component:L}),Object(p.jsx)(o.a,{path:"/contacts",component:w}),Object(p.jsx)(o.a,{component:G})]})]})};n.a.render(Object(p.jsx)(D,{children:Object(p.jsx)(P,{})}),document.getElementById("root"))},64:function(e,t,a){}},[[143,1,2]]]);
//# sourceMappingURL=main.371ea3c9.chunk.js.map